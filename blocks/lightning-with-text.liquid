<div class="lightning-with__text">
    <div class="lightning-text">
        {% render 'lightning-text' %}
    </div>
    <div class="ligthning-icon">
        {% render 'icon-lightning' %}
    </div>
</div>

{% stylesheet %}
    .lightning-text {
        display: flex;
        align-items: center;
        justify-content: center;
        animation: spin 10s linear infinite;     
        width: 100%;
        height: 100%;
        border-radius: 50%;
    }

    .ligthning-icon {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @media screen and (max-width: 767px) {
        .lightning-with__text {
            position: relative;
            width: 100px;
            height: 100px;
        }

        .ligthning-icon {
            width: 28px;
            height: 37px;
            transform: translate(-50%, -50%);
            left: 50%;
            top: 50%;
        }
    }

    @media screen and (min-width: 768px) {
        .lightning-with__text {
            width: 200px;
            height: 200px;
        }
    }

{% endstylesheet %}

{% style %}
    @media screen and (max-width: 767px) {
        .lightning-with-text {
            position: absolute;
            top: {{ block.settings.y_position_mobile }}%;
        }

        .lightning-with-text {
            {% if block.settings.x_reverse_mobile %}
                right: {{ block.settings.x_position }}%;
                left: unset;
            {% else %}
                left: {{ block.settings.x_position }}%;
                right: unset;
            {% endif %} 
        }
    }

    @media screen and (min-width: 768px) {
        .lightning-with-text {
            position: absolute;
            top: {{ block.settings.y_position }}%;
        }

        .lightning-with-text {
            {% if block.settings.x_reverse %}
                right: {{ block.settings.x_position }}%;
                left: unset;
            {% else %}
                left: {{ block.settings.x_position }}%;
                right: unset;
            {% endif %}
        }
    }
{% endstyle %}

{% schema %}
    {
        "name": "Lightning",
        "class": "lightning-with-text",
        "settings": [
            {
                "type": "range",
                "min": 0,
                "max": 100,
                "unit": "%",
                "step": 1,
                "id": "y_position",
                "label": "Top",
                "default": 10
            },
            {
                "type": "checkbox",
                "id": "x_reverse",
                "label": "Horizontal reverse",
                "default": false
            },
            {
                "type": "range",
                "min": 0,
                "max": 100,
                "unit": "%",
                "step": 1,
                "id": "x_position",
                "label": "Left",
                "default": 0
            },
            {
                "type": "range",
                "min": 0,
                "max": 100,
                "unit": "%",
                "step": 1,
                "id": "y_position_mobile",
                "label": "Top(mobile)",
                "default": 28
            },
            {
                "type": "checkbox",
                "id": "x_reverse_mobile",
                "label": "Horizontal reverse",
                "default": false
            },
            {
                "type": "range",
                "min": 0,
                "max": 100,
                "unit": "%",
                "step": 1,
                "id": "x_position_mobile",
                "label": "Left(mobile)",
                "default": 0
            }
        ],
        "presets": [
            {
                "name": "Lightning",
                "category": "Basic"
            }
        ]
    }
{% endschema %}
